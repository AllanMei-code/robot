<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>客服系统测试 · 深色主题</title>
  <!-- 加版本号避免缓存 -->
  <link rel="stylesheet" href="assets/style.css?v=2025-08-28-02" />
</head>

<!--
  1) 深色主题：class="theme-dark"
  2) 启用背景水印：class 再加 has-chat-bg，并在 style 里设置 --chat-bg-image
     没有 logo 时可去掉 has-chat-bg（仍是深色背景）
-->
<body class="theme-dark has-chat-bg"
      style="--chat-bg-image:url('assets/gamesawa-logo.svg'); --chat-bg-opacity:.22"
      data-role="client">

  <div class="container">
    <!-- 客户端 -->
    <div id="client-panel" class="panel">
      <h2>客户界面</h2>

      <div class="message-area" id="client-messages"></div>

      <div class="input-area">
        <input type="text" id="client-input" placeholder="输入消息..." />

        <!-- 上传图片 -->
        <label for="client-file" class="tool-btn" title="上传图片">
          <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
            <path d="M20 5h-3.2l-1.2-2H8.4L7.2 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Zm-8 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10Z"/>
          </svg>
        </label>
        <input type="file" id="client-file" accept="image/*" style="display:none;" />

        <!-- 表情 -->
        <button id="client-emoji-btn" class="tool-btn" title="表情">
          <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
            <path d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2Zm-3 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm6 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm-7 6a5.5 5.5 0 0 0 10 0h-2a3.5 3.5 0 0 1-6 0H8Z"/>
          </svg>
        </button>
        <div id="client-emoji-panel" class="emoji-panel" style="display:none;">
          <span>😀</span><span>😂</span><span>❤️</span><span>👍</span>
          <span>😎</span><span>🤔</span><span>😭</span><span>🎉</span>
        </div>

        <!-- 发送 -->
        <button id="client-send" class="tool-btn primary" title="发送">
          <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
            <path d="M2 21 23 12 2 3v7l15 2-15 2v7z"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- 客服端 -->
    <div id="agent-panel" class="panel">
      <h2>客服界面</h2>

      <div class="message-area" id="agent-messages"></div>

      <div class="input-area">
        <input type="text" id="agent-input" placeholder="输入回复..." />

        <!-- 上传图片 -->
        <label for="agent-file" class="tool-btn" title="上传图片">
          <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
            <path d="M20 5h-3.2l-1.2-2H8.4L7.2 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Zm-8 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10Z"/>
          </svg>
        </label>
        <input type="file" id="agent-file" accept="image/*" style="display:none;" />

        <!-- 表情 -->
        <button id="agent-emoji-btn" class="tool-btn" title="表情">
          <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
            <path d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2Zm-3 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm6 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm-7 6a5.5 5.5 0 0 0 10 0h-2a3.5 3.5 0 0 1-6 0H8Z"/>
          </svg>
        </button>
        <div id="agent-emoji-panel" class="emoji-panel" style="display:none;">
          <span>😀</span><span>😂</span><span>❤️</span><span>👍</span>
          <span>😎</span><span>🤔</span><span>😭</span><span>🎉</span>
        </div>

        <!-- （可选）人工/机器人切换按钮：如需显示请取消注释
        <button id="agent-online-toggle" class="status-btn online" title="人工上线/下线">下线</button>
        -->

        <!-- 发送 -->
        <button id="agent-send" class="tool-btn primary" title="发送">
          <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
            <path d="M2 21 23 12 2 3v7l15 2-15 2v7z"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- 脚本 -->
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script src="js/config.js?v=2025-08-28-02"></script>
  <script src="js/app.js?v=2025-08-28-02"></script>
</body>
</html>
